# Отчет о проведенном тестировании
В ходе тестирования было осуществлено ручное тестирование функциональности покупки тура с использование оплаты по дебетовой карте и оплате в кредит (80 тестов),
а также тестирование API post запросов на http://localhost:8080/api/v1/credit и http://localhost:8080/api/v1/pay (78 тестов) (приложение 1).

Было обнаружено 11 дефектов (приложение 2), что соответсвует 70% неуспешных тестов/30% успешных тестов. 

Рекомендуется, в первую очередь, исправить дефекты с высокой критичностью, затем средние и в конце приступить к исправлению дефектов с низкой критичностью. 

### Приложение 1. Тест-кейсы
 *Покупка тура при оплате дебетовой картой*
| Номер п/п  | Название тест-кейса    | Результат     |
|:-----------|:----------------------:| -------------:|
| 1 | Покупка тура при оплате по карте со статусом одобрено c проверкой записи в базу данных|отрицательно |
| 2 | Покупка тура при оплате по карте со статусом отклонено c проверкой записи в базу данных| отрицательно |
| 3 | Покупка тура по карте с прошлым месяцем|отрицательно |
| 4 | Покупка тура по карте с прошлым годом|положительно |
| 5 | Покупка тура по карте со сроком действия более 5 лет|положительно |
| 6 | Покупка тура по карте с текущим месяцем и годом с проверкой записи в базу данных|отрицательно |
| 7 | Покупка тура по карте с введением в поле месяц одной цифры| положительно |
| 8 | Покупка тура по карте с введением в поле месяц несуществующего месяца|положительно |
| 9 | Покупка тура по карте с введением в поле год значения из 1 цифры|положительно |
| 10 | Покупка тура по карте с введением в поле месяц букв на кириллице|положительно|
| 11 | Покупка тура по карте с введением в поле месяц букв на латинице|положительно |
| 12 |  Покупка тура по карте с введением в поле месяц спец.символов|положительно |
| 13 | Покупка тура по карте с введением в поле год букв на кириллице|положительно |
| 14 | Покупка тура по карте с введением в поле год букв на латинице| положительно |
| 15 | Покупка тура по карте с введением в поле год спец.символов|положительно |
| 16 | Покупка тура по карте с валидным владельцем с использованием дефиса и ' c проверкой записи в базу данных| отрицательно |
| 17 | Покупка тура по карте с невалидным владельцем с использованием кириллицы| отрицательно |
| 18 | Покупка тура по карте с невалидным владельцем с использованием цифр|отрицательно |
| 19 | Покупка тура по карте с невалидным владельцем с использованием спец.символов  |отрицательно |
| 20 | Покупка тура по карте с внесением в поле владелец одной буквы на латинице|отрицательно |
| 21 | Покупка тура по карте с внесением в поле владелец 30 букв на латинице| отрицательно |
| 22 | Покупка тура по карте с внесением в поле владелец имени на латинице с использованием регистра с проверкой записи в базу данных| отрицательно |
| 23 | Покупка тура по карте с cvc-кодом из 2 цифр| положительно |
| 24 | Покупка тура по карте с введением в поле cvc-код букв на кириллице | положительно |
| 25 | Покупка тура по карте с введением в поле cvc-код букв на латинице | положительно |
| 26 | Покупка тура по карте с введением в поле cvc-код спец.символов | положительно |
| 27 | Покупка тура по карте с незаполненным полем номер карты | отрицательно |
| 28 | Покупка тура по карте с незаполненным полем месяц | отрицательно |
| 29 | Покупка тура по карте с незаполенным полем год | отрицательно |
| 30 | Покупка тура по карте с незаполенным полем владелец | положительно |
| 31 | Покупка тура по карте с незаполненным полем cvc-код | отрицательно |
| 32 | Покупка тура по карте с номером, состоящим из 11 цифр | положительно |
| 33 | Покупка тура по карте с введением в поле номер карты букв на кириллице | положительно |
| 34 | Покупка тура по карте с введением в поле номер карты букв на латинице | положительно |
| 35 | Покупка тура по карте с введением в поле номер карты спец.символов | положительно |
| 36 | Покупка тура с несуществующей карты (0000 0000 0000 0000)| отрицательно |
| 37 | Покупка тура по карте с незаполненными полями, а затем с заполненными | отрицательно |
| 38 | Покупка тура по карте с введением в поле год значения из 4 цифр|положительно|
| 39 | Покупка тура по карте с введением в поле месяц 3 цифр| положительно |
| 40 | Покупка тура по карте с cvc-кодом из 4 цифр| положительно |

 *Покупка тура при оплате в кредит*
| Номер п/п  | Название тест-кейса    | Результат     |
|:-----------|:----------------------:| -------------:|
| 41 | Покупка тура при оплате по карте со статусом одобрено c проверкой записи в базу данных|отрицательно |
| 42 | Покупка тура при оплате по карте со статусом отклонено c проверкой записи в базу данных| отрицательно |
| 43 | Покупка тура по карте с прошлым месяцем|отрицательно |
| 44 | Покупка тура по карте с прошлым годом|положительно |
| 45 | Покупка тура по карте со сроком действия более 5 лет|положительно |
| 46 | Покупка тура по карте с текущим месяцем и годом с проверкой записи в базу данных|отрицательно |
| 47 | Покупка тура по карте с введением в поле месяц одной цифры| положительно |
| 48 | Покупка тура по карте с введением в поле месяц несуществующего месяца|положительно |
| 49 | Покупка тура по карте с введением в поле год значения из 1 цифры|положительно |
| 50 | Покупка тура по карте с введением в поле месяц букв на кириллице|положительно|
| 51 | Покупка тура по карте с введением в поле месяц букв на латинице|положительно |
| 52 |  Покупка тура по карте с введением в поле месяц спец.символов|положительно |
| 53 | Покупка тура по карте с введением в поле год букв на кириллице|положительно |
| 54 | Покупка тура по карте с введением в поле год букв на латинице| положительно |
| 55 | Покупка тура по карте с введением в поле год спец.символов|положительно |
| 56 | Покупка тура по карте с валидным владельцем с использованием дефиса и ' c проверкой записи в базу данных| отрицательно |
| 57 | Покупка тура по карте с невалидным владельцем с использованием кириллицы| отрицательно |
| 58 | Покупка тура по карте с невалидным владельцем с использованием цифр|отрицательно |
| 59 | Покупка тура по карте с невалидным владельцем с использованием спец.символов|отрицательно |
| 60 | Покупка тура по карте с внесением в поле владелец одной буквы на латинице|отрицательно |
| 61 | Покупка тура по карте с внесением в поле владелец 30 букв на латинице| отрицательно |
| 62 | Покупка тура по карте с внесением в поле владелец имени на латинице с использованием регистра с проверкой записи в базу данных| отрицательно |
| 63 | Покупка тура по карте с cvc-кодом из 2 цифр|положительно|
| 64 | Покупка тура по карте с введением в поле cvc-код букв на кириллице | положительно |
| 65 | Покупка тура по карте с введением в поле cvc-код букв на латинице |положительно|
| 66 | Покупка тура по карте с введением в поле cvc-код спец.символов |положительно|
| 67 | Покупка тура по карте с незаполненным полем номер карты | отрицательно |
| 68 | Покупка тура по карте с незаполненным полем месяц | отрицательно |
| 69 | Покупка тура по карте с незаполенным полем год | отрицательно |
| 70 | Покупка тура по карте с незаполенным полем владелец | положительно |
| 71 | Покупка тура по карте с незаполненным полем cvc-код | отрицательно |
| 72 | Покупка тура по карте с номером, состоящим из 11 цифр | положительно |
| 73 | Покупка тура по карте с введением в поле номер карты букв на кириллице | положительно |
| 74 | Покупка тура по карте с введением в поле номер карты букв на латинице | положительно |
| 75 | Покупка тура по карте с введением в поле номер карты спец.символов | положительно |
| 76 | Покупка тура с несуществующей карты (0000 0000 0000 0000)| отрицательно |
| 77 | Покупка тура по карте с незаполненными полями, а затем с заполненными | отрицательно |
| 78 | Покупка тура по карте с введением в поле год значения из 4 цифр|положительно|
| 79 | Покупка тура по карте с введением в поле месяц 3 цифр| положительно |
| 80 | Покупка тура по карте с cvc-кодом из 4 цифр| положительно |

 *Тестирование API post запросов на http://localhost:8080/api/v1/pay*
| Номер п/п  | Название тест-кейса    | Результат     |
|:-----------|:----------------------:| -------------:|
| 81 | Покупка тура при оплате по карте со статусом одобрено c проверкой записи в базу данных|отрицательно|
| 82 | Покупка тура при оплате по карте со статусом отклонено c проверкой записи в базу данных|отрицательно|
| 83 | Покупка тура по карте с прошлым месяцем|отрицательно |
| 84 | Покупка тура по карте с прошлым годом|отрицательно|
| 85 | Покупка тура по карте со сроком действия более 5 лет|отрицательно |
| 86 | Покупка тура по карте с текущим месяцем и годом c проверкой записи в базу данных|отрицательно |
| 87 | Покупка тура по карте с введением в поле месяц одной цифры|отрицательно |
| 88 | Покупка тура по карте с введением в поле месяц несуществующего месяца|отрицательно |
| 89 | Покупка тура по карте с введением в поле год значения из 1 цифры|отрицательно |
| 90 | Покупка тура по карте с введением в поле месяц букв на кириллице|отрицательно|
| 91 | Покупка тура по карте с введением в поле месяц букв на латинице|отрицательно |
| 92 |  Покупка тура по карте с введением в поле месяц спец.символов|отрицательно |
| 93 | Покупка тура по карте с введением в поле год букв на кириллице|отрицательно |
| 94 | Покупка тура по карте с введением в поле год букв на кириллице| отрицательно |
| 95 | Покупка тура по карте с введением в поле год спец.символов|отрицательно|
| 96 | Покупка тура по карте с валидным владельцем с использованием дефиса и ' с проверкой записи в базе данных|отрицательно|
| 97 | Покупка тура по карте с невалидным владельцем с использованием кириллицы| отрицательно |
| 98 | Покупка тура по карте с невалидным владельцем с использованием цифр|отрицательно |
| 99 | Покупка тура по карте с невалидным владельцем с использованием спец.символов  |отрицательно |
| 100 | Покупка тура по карте с внесением в поле владелец одной буквы на латинице|отрицательно |
| 101 | Покупка тура по карте с внесением в поле владелец 30 букв на латинице| отрицательно |
| 102 | Покупка тура по карте с внесением в поле владелец имени на латинице с использованием регистра с проверкой записи в базе данных|отрицательно|
| 103 | Покупка тура по карте с cvc-кодом из 2 цифр|отрицательно |
| 104 | Покупка тура по карте с введением в поле cvc-код букв на кириллице |отрицательно |
| 105 | Покупка тура по карте с введением в поле cvc-код букв на латинице |отрицательно |
| 106 | Покупка тура по карте с введением в поле cvc-код спец.символов |отрицательно |
| 107 | Покупка тура по карте с незаполненным полем номер карты | отрицательно |
| 108 | Покупка тура по карте с незаполненным полем месяц | отрицательно |
| 109 | Покупка тура по карте с незаполенным полем год | отрицательно |
| 110 | Покупка тура по карте с незаполенным полем владелец | отрицательно |
| 111 | Покупка тура по карте с незаполненным полем cvc-код | отрицательно |
| 112 | Покупка тура по карте с номером, состоящим из 11 цифр | отрицательно |
| 113 | Покупка тура по карте с введением в поле номер карты букв на кириллице | отрицательно |
| 114 | Покупка тура по карте с введением в поле номер карты букв на латинице | отрицательно |
| 115 | Покупка тура по карте с введением в поле номер карты спец.символов | отрицательно |
| 116 | Покупка тура с несуществующей карты (0000 0000 0000 0000)| положительно |
| 117 | Покупка тура по карте с введением в поле год значения из 4 цифр|отрицательно|
| 118 | Покупка тура по карте с введением в поле месяц 3 цифр| отрицательно |
| 119 | Покупка тура по карте с cvc-кодом из 4 цифр| отрицательно|

*Тестирование API post запросов на http://localhost:8080/api/v1/credit*
| Номер п/п  | Название тест-кейса    | Результат     |
|:-----------|:----------------------:| -------------:|
| 120 | Покупка тура при оплате по карте со статусом одобрено c проверкой записи в базу данных|отрицательно |
| 121 | Покупка тура при оплате по карте со статусом отклонено c проверкой записи в базу данных|отрицательно |
| 122 | Покупка тура по карте с прошлым месяцем|отрицательно |
| 123 | Покупка тура по карте с прошлым годом|отрицательно|
| 124 | Покупка тура по карте со сроком действия более 5 лет|отрицательно |
| 125 | Покупка тура по карте с текущим месяцем и годом c проверкой записи в базу данных|отрицательно |
| 126 | Покупка тура по карте с введением в поле месяц одной цифры|отрицательно |
| 127 | Покупка тура по карте с введением в поле месяц несуществующего месяца|отрицательно |
| 128 | Покупка тура по карте с введением в поле год значения из 1 цифры|отрицательно |
| 129 | Покупка тура по карте с введением в поле месяц букв на кириллице|отрицательно|
| 130 | Покупка тура по карте с введением в поле месяц букв на латинице|отрицательно |
| 131 |  Покупка тура по карте с введением в поле месяц спец.символов|отрицательно |
| 132 | Покупка тура по карте с введением в поле год букв на кириллице|отрицательно |
| 133 | Покупка тура по карте с введением в поле год букв на кириллице| отрицательно |
| 134 | Покупка тура по карте с введением в поле год спец.символов|отрицательно|
| 135 | Покупка тура по карте с валидным владельцем с использованием дефиса и ' с проверкой записи в базе данных|отрицательно |
| 136 | Покупка тура по карте с невалидным владельцем с использованием кириллицы| отрицательно |
| 137 | Покупка тура по карте с невалидным владельцем с использованием цифр|отрицательно |
| 138 | Покупка тура по карте с невалидным владельцем с использованием спец.символов  |отрицательно |
| 139 | Покупка тура по карте с внесением в поле владелец одной буквы на латинице|отрицательно |
| 140 | Покупка тура по карте с внесением в поле владелец 30 букв на латинице| отрицательно |
| 141 | Покупка тура по карте с внесением в поле владелец имени на латинице с использованием регистра с проверкой записи в базе данных|отрицательно|
| 142 | Покупка тура по карте с cvc-кодом из 2 цифр|отрицательно |
| 143 | Покупка тура по карте с введением в поле cvc-код букв на кириллице |отрицательно |
| 144 | Покупка тура по карте с введением в поле cvc-код букв на латинице |отрицательно |
| 145 | Покупка тура по карте с введением в поле cvc-код спец.символов |отрицательно |
| 146 | Покупка тура по карте с незаполненным полем номер карты | отрицательно |
| 147 | Покупка тура по карте с незаполненным полем месяц | отрицательно |
| 148 | Покупка тура по карте с незаполенным полем год | отрицательно |
| 149 | Покупка тура по карте с незаполенным полем владелец | отрицательно |
| 150 | Покупка тура по карте с незаполненным полем cvc-код | отрицательно |
| 151 | Покупка тура по карте с номером, состоящим из 11 цифр | отрицательно |
| 152 | Покупка тура по карте с введением в поле номер карты букв на кириллице | отрицательно |
| 153 | Покупка тура по карте с введением в поле номер карты букв на латинице | отрицательно |
| 154 | Покупка тура по карте с введением в поле номер карты спец.символов | отрицательно |
| 155 | Покупка тура с несуществующей карты (0000 0000 0000 0000)| положительно |
| 156 | Покупка тура по карте с введением в поле год значения из 4 цифр|отрицательно|
| 157 | Покупка тура по карте с введением в поле месяц 3 цифр| отрицательно |
| 158 | Покупка тура по карте с cvc-кодом из 4 цифр| отрицательно|

### Приложение 2. Список дефектов
| Номер п/п  | Номер тест-кейса | Краткое описание | Критичность   |
|:-----------|:------------:|:-------------------------:| -------------:|
| 1 | 17,18,19,57,58,59 | Ошибка валидации поля владелец при оплате по дебетовой карте и в кредит методом эквивалентных значений | высокая |
| 2 | 20,21,60,61 | Отсутствие ограничения длины в поле владелец при оплате по дебетовой карте и в кредит| средняя |
| 3 | 3,43 | При введении в поле месяц прошлого месяца выскакивает ошибка "Неверно указан срок действия карты", правильнее указать "Истек срок действия карты" по аналогии с ошибкой под полем год при оплате по дебетовой карте и в кредит|низкая|
| 4 | 27,28,29,31,67,68,69,71 | При отправке незаполненной формы под полями номер карты, месяц, год, CVC/CVV указаны ошибки "Неверный формат" вместо "Поле обязательно для заполнения" при оплате по дебетовой карте и в кредит| низкая |
| 5 | 37,77 | Не пропадает информация об ошибках по предыдущей операции с невалидными данными при последующей операции с валидными данными при оплате по дебетовой карте и в кредит| низкая |
| 6 | 2,42 | При оформлении путешествия при оплате по дебетовой карте и в кредит с карты со статусом DECLINED появляется сообщение об успешном одобрении | высокая |
| 7 | 36,76 | Одновременно с ошибкой "Банк отказал в проведении операции" появляется сообщение "Успешно. Операция одобрена банком" | средняя |
| 8 | 41,42,56,62,120,121,135,141 | При оформлении путешествия в кредит в базе данных записываются сведения в таблице order_entity в столбец payment_id вместо credit_id | высокая |
| 9 | 1,2,16,22,81,82,96,102 |Сумма покупки в UI указана в рублях, в базе данных - в копейках | высокая |
| 10 | 83-95,97-101,103-115,17-119, 122-134,136-140,142-154,16,158 | При отправке запроса post на http://localhost:8080/api/v1/credit и http://localhost:8080/api/v1/pay при указании частично валидной карты приходит код ответа 200 | высокая|
| 11 | 36,76 | В приложении во вкладке elements отсутствует css-cелектор .notification_status_fail, при этом в styles он есть | низкая |

Автоматизировано 40 тест-кейсов. Из них 9 успешных тестов, что составляет 22,5%, 31 неуспешный тест, что составляет 77,5%.

Отчет Allure о прохождении автоматизированного тестирования
![image](https://user-images.githubusercontent.com/103420483/192098358-0ee85ffa-7c5e-4934-a0db-0453b36d647a.png)
